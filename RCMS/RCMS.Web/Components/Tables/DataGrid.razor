@using RCMS.Web.Models
@typeparam TData 

<MudDataGrid Items="Items" 
             Loading="IsLoading" 
             Dense="true">
    <Columns>
        @foreach (var col in Columns)
        {
            if (!col.IsTemplate && col.Property is not null)
            {
                <PropertyColumn T="TData"
                                TProperty="string"
                                Property="@col.Property"
                                Title="@col.Title"
                                Sortable="@col.Sortable"
                                SortBy="@col.SortBy"/>
            }
            else if (col.IsTemplate && col.TemplateContent is not null && col.SortBy is not null)
            {
                <TemplateColumn T="TData"
                                Title="@col.Title"
                                Sortable="@col.Sortable"
                                SortBy="@col.SortBy">
                    <CellTemplate>
                        @col.TemplateContent(context.Item)
                    </CellTemplate>
                </TemplateColumn>
            }
        }
    </Columns>
    <PagerContent>
        <MudDataGridPager T="TData" />
    </PagerContent>
    <NoRecordsContent>
        <MudText>No record found at this moment.</MudText>
    </NoRecordsContent>
    <LoadingContent>
        <MudText>Loading...</MudText>
    </LoadingContent>
</MudDataGrid>

@code {
    
    [Parameter] public IEnumerable<TData> Items { get; set; }
    [Parameter] public IEnumerable<DataGridColumn<TData>> Columns { get; set; }
    [Parameter] public bool IsLoading { get; set; }    
}